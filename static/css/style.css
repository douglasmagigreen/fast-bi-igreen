/* static/css/style.css - VERSÃO ATUALIZADA */

/* --- Reset Básico e Configurações Gerais --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* --- Estilos Gerais para o BODY --- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fonte mais moderna */
    background-color: #F4F7FA; /* Fundo geral mais claro para páginas internas */
    color: #333;
    line-height: 1.5;
}

/* --- Estilo específico para o fundo branco da página de login --- */
body.login-page-body {
    background-color: #FFF !important; /* Garante fundo branco para login */
    display: block;
}


/* --- Estrutura Principal (Sidebar + Main Content) --- */
.page-wrapper {
    display: flex;
    width: 100%;
    min-height: 100vh;
}

/* --- Barra Lateral (Sidebar) --- */
.sidebar {
    width: 250px;
    background-color: #00c93b; /* Verde */
    color: #ffffff;
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    z-index: 1000;
    transition: width 0.3s ease;
}

.sidebar-header {
    padding: 15px 20px;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
.sidebar-header img { display: block; margin: 0 auto; max-height: 35px; }

.sidebar-nav ul { list-style: none; padding: 0; margin: 0; flex-grow: 1; display: flex; flex-direction: column;}
.sidebar-nav li a {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: #ffffff;
    text-decoration: none;
    font-size: 0.95em;
    transition: background-color 0.2s ease, color 0.2s ease;
    border-left: 3px solid transparent;
}
.sidebar-nav li a:hover {
    background-color: rgba(255, 255, 255, 0.1);
}
.sidebar-nav li.active a {
    color: #ffffff !important;
    font-weight: 600;
    border-left: 3px solid #00641e; /* Verde escuro na borda ativa */
    background-color: rgba(0, 0, 0, 0.1); /* Fundo sutilmente mais escuro para ativo */
}
.sidebar-nav li a i {
    margin-right: 15px;
    width: 20px;
    text-align: center;
    font-size: 1.1em;
}
.sidebar-nav li.disabled a {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: transparent !important;
    color: #a0a0a0 !important;
    border-left-color: transparent !important;
}

.sidebar-nav li.sidebar-logout { margin-top: auto; border-top: 1px solid rgba(255, 255, 255, 0.1); }

/* --- Área de Conteúdo Principal --- */
.main-content {
    flex-grow: 1;
    margin-left: 250px;
    padding: 0;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.content-header {
    background-color: #ffffff;
    padding: 15px 30px;
    border-bottom: 1px solid #dee2e6;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}
.page-title { font-size: 1.5em; color: #343a40; margin: 0; font-weight: 600; }
.header-user-info { color: #6c757d; font-size: 0.9em; display: flex; align-items: center;}
.header-user-info span { margin-right: 10px; }
.header-user-info .current-date { margin-left: auto; margin-right: 15px; }
.header-user-info .btn-logout-alt { color: #dc3545; text-decoration: none; margin-left: 5px; font-size: 1.1em; }
.header-user-info .btn-logout-alt:hover { color: #a71d2a; }

.content-area {
    padding: 30px;
    flex-grow: 1;
    background-color: #F4F7FA;
}

/* --- Mensagens Flash --- */
.flash-messages-container { margin-bottom: 20px; }
.flash-messages-container .alert { padding: 12px 15px; margin-bottom: 10px; border: 1px solid transparent; border-radius: 4px; font-size: 0.95em; }
.alert-danger, .alert-error { color: #721c24; background-color: #f8d7da; border-color: #f5c6cb; }
.alert-warning { color: #856404; background-color: #fff3cd; border-color: #ffeeba; }
.alert-success { color: #155724; background-color: #d4edda; border-color: #c3e6cb; }
.alert-info { color: #0c5460; background-color: #d1ecf1; border-color: #bee5eb; }

/* --- Layout de Login --- */
.login-wrapper { display: flex; min-height: 100vh; width: 100%; }
.login-image-column { flex: 1; background-image: url('../img/telalogin.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; display: none; }
.login-form-column { flex: 1; display: flex; justify-content: center; align-items: center; padding: 40px; background-color: #fff; }
@media (min-width: 992px) { .login-image-column { display: block; flex: 0 0 55%; } .login-form-column { flex: 0 0 45%; width: auto; } }
.login-form-container { width: 100%; max-width: 400px; }
.login-logo { text-align: center; margin-bottom: 30px; } .login-logo img { max-height: 50px; width: auto; }
.login-title { text-align: center; font-size: 1.8em; font-weight: bold; color: #333; margin-top: 0; margin-bottom: 30px; } .login-title .crm-icon { font-size: 0.8em; vertical-align: middle; }
.login-form .form-group { margin-bottom: 20px; } .login-form label { display: block; margin-bottom: 6px; font-weight: bold; font-size: 0.9em; color: #555; } .login-form .form-control { width: 100%; padding: 12px 15px; font-size: 1em; border: 1px solid #ced4da; border-radius: 8px; background-color: #f8f9fa; box-sizing: border-box; transition: border-color 0.2s ease; } .login-form .form-control:focus { border-color: #80bdff; outline: none; background-color: #fff; } .login-form .invalid-feedback { color: #dc3545; font-size: 0.85em; margin-top: 5px; display: block; } .password-wrapper { position: relative; } .password-wrapper .password-toggle-icon { position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer; color: #aaa; } .form-check-group { display: flex; align-items: center; margin-bottom: 25px; } .form-check-input { margin-right: 8px; width: 16px; height: 16px; cursor: pointer; } .form-check-label { font-size: 0.9em; color: #555; cursor: pointer; }
.btn-login-submit { width: 100%; padding: 12px 15px; font-size: 1.1em; font-weight: bold; color: #fff; background-color: #28a745; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; height: auto; line-height: normal; display: inline-flex; align-items: center; justify-content: center; } .btn-login-submit:hover { background-color: #218838; }

/* --- ESTILOS DA PÁGINA DE RELATÓRIOS --- */
.filter-form, .search-box { margin-bottom: 20px; padding: 15px; border: 1px solid #dee2e6; border-radius: 5px; background-color: #f8f9fa; display: flex; align-items: center; flex-wrap: wrap; gap: 15px; } .filter-form .form-group, .search-box .form-group { display: flex; align-items: center; } .filter-form label, .search-box label { margin-right: 8px; font-weight: bold; white-space: nowrap; font-size: 0.9em; } .filter-form select, .filter-form input[type="text"], .search-box input[type="text"] { padding: 8px 10px; border: 1px solid #ced4da; border-radius: 4px; font-size: 14px; height: 38px; box-sizing: border-box; } .search-box input[type="text"] { min-width: 250px; }
.btn { padding: 8px 15px; font-size: 14px; line-height: 1.5; height: 38px; box-sizing: border-box; display: inline-flex; align-items: center; justify-content: center; vertical-align: middle; text-align: center; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; white-space: nowrap; transition: background-color 0.2s ease; } .btn-primary { background-color: #007bff; color: white; } .btn-primary:hover { background-color: #0056b3; } .btn-success { background-color: #28a745; color: white; } .btn-success:hover { background-color: #1e7e34; }
hr { border: none; border-top: 1px solid #dee2e6; margin: 20px 0; }
.table-responsive { overflow-x: auto; margin-top: 15px; border: 1px solid #dee2e6; border-radius: 4px; } table#dataTable { width: 100%; border-collapse: collapse; font-size: 0.9em; background-color: #fff; } table#dataTable th, table#dataTable td { border: 1px solid #dee2e6; padding: 10px 12px; text-align: left; white-space: nowrap; vertical-align: middle; } table#dataTable th { background-color: #008001; color: white; position: sticky; top: 0; z-index: 1; font-weight: 600; } table#dataTable tbody tr:nth-child(even) { background-color: #f8f9fa; } table#dataTable tbody tr:hover { background-color: #e9ecef; } .table-info { margin-top: 15px; margin-bottom: 10px; font-style: italic; color: #6c757d; font-size: 0.9em; }
nav.pagination { margin-top: 25px; text-align: center; } nav.pagination ul { list-style: none; padding: 0; margin: 0; display: inline-block; } nav.pagination li { display: inline-block; margin: 0 3px; } nav.pagination a, nav.pagination span { display: inline-block; padding: 6px 12px; border: 1px solid #dee2e6; border-radius: 4px; text-decoration: none; color: #007bff; background-color: #fff; transition: background-color 0.2s ease, color 0.2s ease; } nav.pagination a:hover { background-color: #e9ecef; border-color: #adb5bd; } nav.pagination li.active span { background-color: #007bff; color: white; border-color: #007bff; cursor: default; } nav.pagination li.disabled span { color: #6c757d; background-color: #e9ecef; border-color: #dee2e6; cursor: default; }

/* --- ESTILOS DO DASHBOARD --- */
.filter-row { margin-bottom: 25px; display: flex; align-items: center; gap: 20px; } .filter-group { display: flex; align-items: center; gap: 8px; } .filter-group label { font-weight: bold; font-size: 0.9em; color: #555; } .filter-group select { padding: 8px 12px; border: 1px solid #ced4da; border-radius: 4px; background-color: #fff; font-size: 0.9em; }

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Mantém 4 colunas */
    gap: 25px;
    /* align-items: end; */ /* REMOVIDO para usar o padrão 'stretch' */
    align-items: stretch; /* Garante que os cards na mesma linha tenham a mesma altura */
}

.card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
    border: 1px solid #e9ecef;
    overflow: hidden; /* Evita conteúdo transbordando do card arredondado */
    display: flex; /* Essencial para stretch e layout interno */
    flex-direction: column; /* Conteúdo do card empilha verticalmente */
}

.card-header {
    padding: 12px 18px;
    background-color: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
    font-weight: 600; color: #495057;
    font-size: 0.95em;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0; /* Impede que o header encolha */
}
.card-header .tooltip-icon { color: #6c757d; cursor: help; margin-left: 5px; }
.card-header select { font-size: 0.9em; border: none; background: transparent; font-weight: bold; margin-right: 10px; }

.card-body {
    padding: 18px;
    flex-grow: 1;
    display: flex; /* Mantém flex para controle interno */
    flex-direction: column; /* Conteúdo empilha verticalmente */
    /* Não centralizar globalmente aqui */
}

/* --- Estilos específicos por tipo de card --- */

/* Card KPI (Resultado do Mês) */
.kpi-card .card-body {
    justify-content: center; /* Centraliza verticalmente o conteúdo dentro do body */
    align-items: center;     /* << ADICIONADO: Centraliza horizontalmente o bloco valor/label */
}
.kpi-card .kpi-main-value {
    font-size: 2.8em;
    font-weight: bold;
    color: #00c93b;
    text-align: center; /* Já estava centralizado */
    margin-bottom: 5px;
    line-height: 1.1;
}
.kpi-card .kpi-sub-label {
    text-align: center; /* Já estava centralizado */
    display: block;
    color: #6c757d;
    font-size: 0.9em;
    margin-bottom: 0; /* Removido margin-bottom para melhor centralização vertical */
}
/* ... (outros estilos .kpi-card se houver) ... */


/* Card Qualification (Clientes do Mês) */
.qualification-card .card-body {
    justify-content: center; /* Centraliza verticalmente o .qualification-numbers */
    align-items: center;     /* << ADICIONADO: Centraliza horizontalmente o .qualification-numbers */
}
.qualification-card .qualification-numbers {
    display: flex;
    /* justify-content: space-around; */ /* << ALTERADO de space-around */
    justify-content: center;          /* << PARA center */
    text-align: center;
    gap: 30px; /* Aumentado o gap para dar mais espaço entre os itens centralizados */
    align-items: flex-start; /* Mantém alinhamento no topo */
    width: 100%; /* Garante que o container flex use a largura disponível para centralizar */
}
/* .qualification-card .qual-item { } */ /* Não precisa mais de estilos específicos aqui */
.qualification-card .qual-item .qual-number {
    font-size: 2.2em;
    font-weight: bold;
    color: #00c93b;
    display: block;
    line-height: 1.1;
    min-height: 1.2em;
}
.qualification-card .qual-item .qual-label {
    font-size: 0.85em;
    color: #6c757d;
    line-height: 1.3;
    margin-top: 3px;
}

/* Card Chart */
.chart-card .card-body {
    min-height: 250px; /* Altura mínima para o gráfico */
    position: relative;
    flex-grow: 1; /* Garante que ele possa crescer */
}
.chart-card canvas {
    position: absolute;
    top: 10px; left: 10px; right: 10px; bottom: 10px;
    width: calc(100% - 20px) !important; height: calc(100% - 20px) !important;
}

/* Card que ocupa 2 colunas */
.grid-span-2 {
     grid-column: span 2;
     /* Garante que cards com span 2 também possam ter altura flexível */
     display: flex;
     flex-direction: column;
}

.main-footer {
    text-align: center;
    padding: 15px 30px;
    border-top: 1px solid #dee2e6;
    color: #6c757d;
    font-size: 0.85em;
    background-color: #ffffff;
    margin-top: auto; /* Empurra para o final */
    flex-shrink: 0; /* Impede que o footer encolha */
}


/* --- >> ESTILOS ATUALIZADOS PARA AMBAS AS TABELAS DE RESUMO << --- */
/* Aplica a todas as tabelas dentro de cards com a classe .summary-table-card */
.summary-table-card .table-responsive {
    border: none;
    margin-top: 5px;
    flex-grow: 1; /* Permite que a div da tabela cresça */
    overflow-y: auto; /* Garante scroll se necessário */
    max-height: 250px; /* Limita a altura máxima da tabela */
}

.summary-table-card table {
    width: 100%;
    margin-bottom: 0;
    color: #495057; /* Cor do texto padrão */
    border-collapse: collapse;
    font-size: 0.88em; /* Tamanho da fonte */
}

.summary-table-card th,
.summary-table-card td {
    padding: 8px 10px; /* Espaçamento interno */
    vertical-align: middle; /* Alinhamento vertical */
    border: 1px solid #dee2e6; /* Borda sutil */
    white-space: nowrap; /* Evita quebra de linha */
}

.summary-table-card thead th {
    background-color: #f8f9fa; /* Fundo do cabeçalho */
    font-weight: 600; /* Negrito */
    text-align: left; /* Alinhamento padrão do cabeçalho */
    border-bottom-width: 2px; /* Borda inferior mais grossa */
    color: #343a40; /* Cor do texto do cabeçalho */
    position: sticky; /* Mantém o cabeçalho fixo na rolagem */
    top: 0; /* Necessário para sticky */
    z-index: 1; /* Garante que fique acima do conteúdo */
}

/* Alinhamento específico para cabeçalhos numéricos (colunas 2 e 3) */
.summary-table-card thead th:nth-child(2),
.summary-table-card thead th:nth-child(3) {
    text-align: right;
}

/* Alinhamento para células do corpo */
.summary-table-card tbody td:nth-child(1) { /* Primeira coluna (texto) */
    text-align: left;
}
.summary-table-card tbody td:nth-child(2), /* Segunda coluna (número) */
.summary-table-card tbody td:nth-child(3) { /* Terceira coluna (número) */
    text-align: right;
    font-family: Consolas, monaco, monospace; /* Fonte monoespaçada para números */
}

/* Estilo zebrado e hover */
.summary-table-card tbody tr:nth-child(even) {
    background-color: #e8f5e9;
}
.summary-table-card tbody tr:hover {
    background-color: #d1e7dd; /* Fundo levemente mais escuro no hover */
}
/* --- >> FIM ESTILOS TABELAS RESUMO << --- */


/* --- ESTILOS PARA CABEÇALHOS ORDENÁVEIS (Aplicáveis a ambas as tabelas) --- */
/* Usamos a mesma classe 'sortable-header' para ambas as tabelas no HTML */
th.sortable-header {
    cursor: pointer;
    position: relative;
    user-select: none; /* Evita seleção de texto */
}
th.sortable-header:hover {
    background-color: #e9ecef; /* Destaque sutil */
}
th.sortable-header .sort-icon { /* Aplica-se ao span dentro do TH */
    font-size: 0.8em;
    margin-left: 5px;
    color: #333;
    opacity: 0.7;
    display: inline-block;
    width: 1em; /* Reserva espaço mínimo para o ícone */
    text-align: center;
    font-weight: normal; /* Ícone não precisa ser negrito */
}
/* --- FIM ESTILOS ORDENAÇÃO --- */

/* --- Responsividade --- */
@media (max-width: 1200px) { /* Ajuste para telas médias/tablets */
    .dashboard-grid {
        grid-template-columns: repeat(2, 1fr); /* 2 colunas */
        /* align-items: stretch; */ /* Mantém o stretch (padrão) */
    }
    .grid-span-2 {
        grid-column: span 2; /* Ocupa a linha inteira (2 de 2 colunas) */
    }
}

@media (max-width: 992px) { /* Ajuste para sidebar recolhida */
    .sidebar { width: 70px; }
    .sidebar-header img { max-height: 30px; }
    .sidebar-nav li a span { display: none; }
    .sidebar-nav li a { justify-content: center; padding-left: 10px; padding-right: 10px; }
    .sidebar-nav li a i { margin-right: 0; }
    .main-content { margin-left: 70px; }
    /* Grid continua com 2 colunas do breakpoint anterior */
}

@media (max-width: 768px) { /* Ajuste para mobile */
    .page-wrapper { flex-direction: column; }
    .sidebar { position: static; width: 100%; height: auto; flex-direction: row; align-items: center; position: sticky; top: 0; z-index: 1001; /* Acima do conteúdo */}
    .sidebar-header { padding: 5px 15px; border-bottom: none; border-right: 1px solid rgba(255,255,255,0.1); flex-shrink: 0;}
    .sidebar-nav { flex-grow: 1; }
    .sidebar-nav ul { flex-direction: row; justify-content: flex-start; height: 100%; overflow-x: auto; /* Permite scroll horizontal se itens não couberem */ }
    .sidebar-nav li { flex-grow: 0; flex-shrink: 0; /* Impede que itens encolham */ border-left: none; border-right: 1px solid rgba(255,255,255,0.1); height: 100%; display: flex; align-items: center;}
    .sidebar-nav li a { padding: 10px 15px; justify-content: center; height: 100%; border-left: none;}
    .sidebar-nav li.active a { border-bottom: 3px solid #00641e; border-left: none; background-color: transparent; /* Remove fundo escuro no mobile ativo */}
    .sidebar-nav li a i { margin-right: 0; font-size: 1.3em; }
    .sidebar-nav li a span { display: none; }
    .sidebar-nav li.sidebar-logout { margin-top: 0; flex-grow: 0; margin-left: auto; border-right: none; border-left: 1px solid rgba(255,255,255,0.1); }
    .main-content { margin-left: 0; }
    .content-header { flex-direction: column; align-items: flex-start; gap: 5px; padding: 10px 15px; }
    .page-title { font-size: 1.2em; }
    .header-user-info { font-size: 0.8em; width: 100%; justify-content: space-between; }
    .header-user-info .current-date { margin-left: 0; }
    .content-area { padding: 15px; }
    .dashboard-grid {
        grid-template-columns: 1fr; /* 1 coluna */
        gap: 15px;
        /* align-items: stretch; */ /* Mantém o stretch (padrão) */
     }
    .grid-span-2 {
        grid-column: span 1; /* Ocupa a linha toda (1 de 1 coluna) */
    }
    /* Ajuste fonte tabelas resumo em mobile se necessário */
    .summary-table-card table { font-size: 0.8em; }
    .summary-table-card th, .summary-table-card td { padding: 6px 8px; }

    /* Ajuste kpi cards em mobile */
     .kpi-card .kpi-main-value { font-size: 2.2em; }
     .qualification-card .qual-item .qual-number { font-size: 1.8em; }
     .qualification-card .qual-item .qual-label { font-size: 0.8em; }
     .qualification-card .qualification-numbers { gap: 20px; }
}